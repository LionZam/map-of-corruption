<!DOCTYPE html>
<html>
<head>
  <title> <%= @title %></title>
  <link rel="stylesheet" href="<%= url('/css/bootstrap.min.css') %>">
  <link rel="stylesheet" href="<%= url('css/bootstrap-grid.min.css') %>">
  <link rel="stylesheet" href="<%= url('css/bootstrap-reboot.min.css') %>">
  <link rel="stylesheet" href="<%= url('css/main.css') %>">

</head>
<body>
<div class="container">
  <table class="table table-striped table-hover">
    <tr class="headline thead-dark">
      <!--TODO: Адекватный вывод таблицы-->
      <th>ID</th>
      <th>Имя</th>
      <th>Фамилия</th>
      <th>Отчество</th>
      <th>Должность</th>
    </tr>
    <!--TODO: Как здесь добавить сортировку?-->
    <% @deputies.each do |deputy| %>
      <tr data-href="/deputy/<%= deputy.id %>">
        <td><%= deputy.id %></td>
        <td><%= deputy.name %></td>
        <td><%= deputy.surname %></td>
        <td><%= deputy.patronymic %></td>
        <td><%= deputy.position %></td>
      </tr>
    <% end %>
  </table>
</div>
<script src="<%= url('/js/jquery-3.3.1.min.js') %>"></script>
<script type="text/javascript" charset="utf-8">
    $('*[data-href]').on("click", function () {
        window.location = $(this).data('href');
        return false;
    });
</script>
</body>
</html>